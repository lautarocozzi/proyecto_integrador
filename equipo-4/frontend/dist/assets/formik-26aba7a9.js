import{d as x}from"./deepmerge-15f827de.js";import{i as pe,t as me,c as ye}from"./lodash-es-6dc91650.js";import{r as c}from"./react-0e521403.js";import{i as O}from"./react-fast-compare-748d43b0.js";import{w as Be}from"./tiny-warning-c932d744.js";import"./hoist-non-react-statics-23d96a9a.js";function S(){return S=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])}return r},S.apply(this,arguments)}function Se(r,t){if(r==null)return{};var a={},i=Object.keys(r),u,s;for(s=0;s<i.length;s++)u=i[s],!(t.indexOf(u)>=0)&&(a[u]=r[u]);return a}var W=c.createContext(void 0);W.displayName="FormikContext";var Ne=W.Provider;W.Consumer;function He(){var r=c.useContext(W);return r||Be(!1),r}var g=function(t){return typeof t=="function"},j=function(t){return t!==null&&typeof t=="object"},Pe=function(t){return String(Math.floor(Number(t)))===t},X=function(t){return Object.prototype.toString.call(t)==="[object String]"},Ge=function(t){return c.Children.count(t)===0},Z=function(t){return j(t)&&g(t.then)};function T(r,t,a,i){i===void 0&&(i=0);for(var u=me(t);r&&i<u.length;)r=r[u[i++]];return i!==u.length&&!r||r===void 0?a:r}function D(r,t,a){for(var i=ye(r),u=i,s=0,v=me(t);s<v.length-1;s++){var y=v[s],C=T(r,v.slice(0,s+1));if(C&&(j(C)||Array.isArray(C)))u=u[y]=ye(C);else{var b=v[s+1];u=u[y]=Pe(b)&&Number(b)>=0?[]:{}}}return(s===0?r:u)[v[s]]===a?r:(a===void 0?delete u[v[s]]:u[v[s]]=a,s===0&&a===void 0&&delete i[v[s]],i)}function Te(r,t,a,i){a===void 0&&(a=new WeakMap),i===void 0&&(i={});for(var u=0,s=Object.keys(r);u<s.length;u++){var v=s[u],y=r[v];j(y)?a.get(y)||(a.set(y,!0),i[v]=Array.isArray(y)?[]:{},Te(y,t,a,i[v])):i[v]=t}return i}function We(r,t){switch(t.type){case"SET_VALUES":return S({},r,{values:t.payload});case"SET_TOUCHED":return S({},r,{touched:t.payload});case"SET_ERRORS":return O(r.errors,t.payload)?r:S({},r,{errors:t.payload});case"SET_STATUS":return S({},r,{status:t.payload});case"SET_ISSUBMITTING":return S({},r,{isSubmitting:t.payload});case"SET_ISVALIDATING":return S({},r,{isValidating:t.payload});case"SET_FIELD_VALUE":return S({},r,{values:D(r.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return S({},r,{touched:D(r.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return S({},r,{errors:D(r.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return S({},r,t.payload);case"SET_FORMIK_STATE":return t.payload(r);case"SUBMIT_ATTEMPT":return S({},r,{touched:Te(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return S({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return S({},r,{isSubmitting:!1});default:return r}}var k={},G={};function je(r){var t=r.validateOnChange,a=t===void 0?!0:t,i=r.validateOnBlur,u=i===void 0?!0:i,s=r.validateOnMount,v=s===void 0?!1:s,y=r.isInitialValid,C=r.enableReinitialize,b=C===void 0?!1:C,re=r.onSubmit,Fe=Se(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=S({validateOnChange:a,validateOnBlur:u,validateOnMount:v,onSubmit:re},Fe),I=c.useRef(d.initialValues),L=c.useRef(d.initialErrors||k),M=c.useRef(d.initialTouched||G),w=c.useRef(d.initialStatus),A=c.useRef(!1),V=c.useRef({});c.useEffect(function(){return A.current=!0,function(){A.current=!1}},[]);var ge=c.useState(0),be=ge[1],H=c.useRef({values:d.initialValues,errors:d.initialErrors||k,touched:d.initialTouched||G,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),p=H.current,E=c.useCallback(function(e){var n=H.current;H.current=We(n,e),n!==H.current&&be(function(l){return l+1})},[]),te=c.useCallback(function(e,n){return new Promise(function(l,o){var f=d.validate(e,n);f==null?l(k):Z(f)?f.then(function(h){l(h||k)},function(h){o(h)}):l(f)})},[d.validate]),K=c.useCallback(function(e,n){var l=d.validationSchema,o=g(l)?l(n):l,f=n&&o.validateAt?o.validateAt(n,e):$e(e,o);return new Promise(function(h,m){f.then(function(){h(k)},function(_){_.name==="ValidationError"?h(Ke(_)):m(_)})})},[d.validationSchema]),ie=c.useCallback(function(e,n){return new Promise(function(l){return l(V.current[e].validate(n))})},[]),ne=c.useCallback(function(e){var n=Object.keys(V.current).filter(function(o){return g(V.current[o].validate)}),l=n.length>0?n.map(function(o){return ie(o,T(e,o))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(l).then(function(o){return o.reduce(function(f,h,m){return h==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||h&&(f=D(f,n[m],h)),f},{})})},[ie]),Ie=c.useCallback(function(e){return Promise.all([ne(e),d.validationSchema?K(e):{},d.validate?te(e):{}]).then(function(n){var l=n[0],o=n[1],f=n[2],h=x.all([l,o,f],{arrayMerge:ze});return h})},[d.validate,d.validationSchema,ne,te,K]),R=F(function(e){return e===void 0&&(e=p.values),E({type:"SET_ISVALIDATING",payload:!0}),Ie(e).then(function(n){return A.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:n})),n})});c.useEffect(function(){v&&A.current===!0&&O(I.current,d.initialValues)&&R(I.current)},[v,R]);var N=c.useCallback(function(e){var n=e&&e.values?e.values:I.current,l=e&&e.errors?e.errors:L.current?L.current:d.initialErrors||{},o=e&&e.touched?e.touched:M.current?M.current:d.initialTouched||{},f=e&&e.status?e.status:w.current?w.current:d.initialStatus;I.current=n,L.current=l,M.current=o,w.current=f;var h=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:l,touched:o,status:f,values:n,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&typeof e.submitCount=="number"?e.submitCount:0}})};if(d.onReset){var m=d.onReset(p.values,he);Z(m)?m.then(h):h()}else h()},[d.initialErrors,d.initialStatus,d.initialTouched]);c.useEffect(function(){A.current===!0&&!O(I.current,d.initialValues)&&b&&(I.current=d.initialValues,N(),v&&R(I.current))},[b,d.initialValues,N,v,R]),c.useEffect(function(){b&&A.current===!0&&!O(L.current,d.initialErrors)&&(L.current=d.initialErrors||k,E({type:"SET_ERRORS",payload:d.initialErrors||k}))},[b,d.initialErrors]),c.useEffect(function(){b&&A.current===!0&&!O(M.current,d.initialTouched)&&(M.current=d.initialTouched||G,E({type:"SET_TOUCHED",payload:d.initialTouched||G}))},[b,d.initialTouched]),c.useEffect(function(){b&&A.current===!0&&!O(w.current,d.initialStatus)&&(w.current=d.initialStatus,E({type:"SET_STATUS",payload:d.initialStatus}))},[b,d.initialStatus,d.initialTouched]);var ae=F(function(e){if(V.current[e]&&g(V.current[e].validate)){var n=T(p.values,e),l=V.current[e].validate(n);return Z(l)?(E({type:"SET_ISVALIDATING",payload:!0}),l.then(function(o){return o}).then(function(o){E({type:"SET_FIELD_ERROR",payload:{field:e,value:o}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:e,value:l}}),Promise.resolve(l))}else if(d.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),K(p.values,e).then(function(o){return o}).then(function(o){E({type:"SET_FIELD_ERROR",payload:{field:e,value:T(o,e)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ae=c.useCallback(function(e,n){var l=n.validate;V.current[e]={validate:l}},[]),Re=c.useCallback(function(e){delete V.current[e]},[]),ue=F(function(e,n){E({type:"SET_TOUCHED",payload:e});var l=n===void 0?u:n;return l?R(p.values):Promise.resolve()}),le=c.useCallback(function(e){E({type:"SET_ERRORS",payload:e})},[]),oe=F(function(e,n){var l=g(e)?e(p.values):e;E({type:"SET_VALUES",payload:l});var o=n===void 0?a:n;return o?R(l):Promise.resolve()}),P=c.useCallback(function(e,n){E({type:"SET_FIELD_ERROR",payload:{field:e,value:n}})},[]),U=F(function(e,n,l){E({type:"SET_FIELD_VALUE",payload:{field:e,value:n}});var o=l===void 0?a:l;return o?R(D(p.values,e,n)):Promise.resolve()}),ce=c.useCallback(function(e,n){var l=n,o=e,f;if(!X(e)){e.persist&&e.persist();var h=e.target?e.target:e.currentTarget,m=h.type,_=h.name,J=h.id,Q=h.value,we=h.checked,Xe=h.outerHTML,Ee=h.options,Ue=h.multiple;l=n||_||J,o=/number|range/.test(m)?(f=parseFloat(Q),isNaN(f)?"":f):/checkbox/.test(m)?qe(T(p.values,l),we,Q):Ee&&Ue?Ye(Ee):Q}l&&U(l,o)},[U,p.values]),$=F(function(e){if(X(e))return function(n){return ce(n,e)};ce(e)}),B=F(function(e,n,l){n===void 0&&(n=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:e,value:n}});var o=l===void 0?u:l;return o?R(p.values):Promise.resolve()}),se=c.useCallback(function(e,n){e.persist&&e.persist();var l=e.target,o=l.name,f=l.id,h=l.outerHTML,m=n||o||f;B(m,!0)},[B]),z=F(function(e){if(X(e))return function(n){return se(n,e)};se(e)}),de=c.useCallback(function(e){g(e)?E({type:"SET_FORMIK_STATE",payload:e}):E({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),fe=c.useCallback(function(e){E({type:"SET_STATUS",payload:e})},[]),ve=c.useCallback(function(e){E({type:"SET_ISSUBMITTING",payload:e})},[]),Y=F(function(){return E({type:"SUBMIT_ATTEMPT"}),R().then(function(e){var n=e instanceof Error,l=!n&&Object.keys(e).length===0;if(l){var o;try{if(o=_e(),o===void 0)return}catch(f){throw f}return Promise.resolve(o).then(function(f){return A.current&&E({type:"SUBMIT_SUCCESS"}),f}).catch(function(f){if(A.current)throw E({type:"SUBMIT_FAILURE"}),f})}else if(A.current&&(E({type:"SUBMIT_FAILURE"}),n))throw e})}),Ce=F(function(e){e&&e.preventDefault&&g(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&g(e.stopPropagation)&&e.stopPropagation(),Y().catch(function(n){console.warn("Warning: An unhandled error was caught from submitForm()",n)})}),he={resetForm:N,validateForm:R,validateField:ae,setErrors:le,setFieldError:P,setFieldTouched:B,setFieldValue:U,setStatus:fe,setSubmitting:ve,setTouched:ue,setValues:oe,setFormikState:de,submitForm:Y},_e=F(function(){return re(p.values,he)}),Ve=F(function(e){e&&e.preventDefault&&g(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&g(e.stopPropagation)&&e.stopPropagation(),N()}),Le=c.useCallback(function(e){return{value:T(p.values,e),error:T(p.errors,e),touched:!!T(p.touched,e),initialValue:T(I.current,e),initialTouched:!!T(M.current,e),initialError:T(L.current,e)}},[p.errors,p.touched,p.values]),Me=c.useCallback(function(e){return{setValue:function(l,o){return U(e,l,o)},setTouched:function(l,o){return B(e,l,o)},setError:function(l){return P(e,l)}}},[U,B,P]),ke=c.useCallback(function(e){var n=j(e),l=n?e.name:e,o=T(p.values,l),f={name:l,value:o,onChange:$,onBlur:z};if(n){var h=e.type,m=e.value,_=e.as,J=e.multiple;h==="checkbox"?m===void 0?f.checked=!!o:(f.checked=!!(Array.isArray(o)&&~o.indexOf(m)),f.value=m):h==="radio"?(f.checked=o===m,f.value=m):_==="select"&&J&&(f.value=f.value||[],f.multiple=!0)}return f},[z,$,p.values]),q=c.useMemo(function(){return!O(I.current,p.values)},[I.current,p.values]),Oe=c.useMemo(function(){return typeof y<"u"?q?p.errors&&Object.keys(p.errors).length===0:y!==!1&&g(y)?y(d):y:p.errors&&Object.keys(p.errors).length===0},[y,q,p.errors,d]),De=S({},p,{initialValues:I.current,initialErrors:L.current,initialTouched:M.current,initialStatus:w.current,handleBlur:z,handleChange:$,handleReset:Ve,handleSubmit:Ce,resetForm:N,setErrors:le,setFormikState:de,setFieldTouched:B,setFieldValue:U,setFieldError:P,setStatus:fe,setSubmitting:ve,setTouched:ue,setValues:oe,submitForm:Y,validateForm:R,validateField:ae,isValid:Oe,dirty:q,unregisterField:Re,registerField:Ae,getFieldProps:ke,getFieldMeta:Le,getFieldHelpers:Me,validateOnBlur:u,validateOnChange:a,validateOnMount:v});return De}function nr(r){var t=je(r),a=r.component,i=r.children,u=r.render,s=r.innerRef;return c.useImperativeHandle(s,function(){return t}),c.createElement(Ne,{value:t},a?c.createElement(a,t):u?u(t):i?g(i)?i(t):Ge(i)?null:c.Children.only(i):null)}function Ke(r){var t={};if(r.inner){if(r.inner.length===0)return D(t,r.path,r.message);for(var u=r.inner,a=Array.isArray(u),i=0,u=a?u:u[Symbol.iterator]();;){var s;if(a){if(i>=u.length)break;s=u[i++]}else{if(i=u.next(),i.done)break;s=i.value}var v=s;T(t,v.path)||(t=D(t,v.path,v.message))}}return t}function $e(r,t,a,i){a===void 0&&(a=!1);var u=ee(r);return t[a?"validateSync":"validate"](u,{abortEarly:!1,context:i||u})}function ee(r){var t=Array.isArray(r)?[]:{};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var i=String(a);Array.isArray(r[i])===!0?t[i]=r[i].map(function(u){return Array.isArray(u)===!0||pe(u)?ee(u):u!==""?u:void 0}):pe(r[i])?t[i]=ee(r[i]):t[i]=r[i]!==""?r[i]:void 0}return t}function ze(r,t,a){var i=r.slice();return t.forEach(function(s,v){if(typeof i[v]>"u"){var y=a.clone!==!1,C=y&&a.isMergeableObject(s);i[v]=C?x(Array.isArray(s)?[]:{},s,a):s}else a.isMergeableObject(s)?i[v]=x(r[v],s,a):r.indexOf(s)===-1&&i.push(s)}),i}function Ye(r){return Array.from(r).filter(function(t){return t.selected}).map(function(t){return t.value})}function qe(r,t,a){if(typeof r=="boolean")return!!t;var i=[],u=!1,s=-1;if(Array.isArray(r))i=r,s=r.indexOf(a),u=s>=0;else if(!a||a=="true"||a=="false")return!!t;return t&&a&&!u?i.concat(a):u?i.slice(0,s).concat(i.slice(s+1)):i}var Je=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect;function F(r){var t=c.useRef(r);return Je(function(){t.current=r}),c.useCallback(function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return t.current.apply(void 0,i)},[])}var Qe=c.forwardRef(function(r,t){var a=r.action,i=Se(r,["action"]),u=a??"#",s=He(),v=s.handleReset,y=s.handleSubmit;return c.createElement("form",S({onSubmit:y,ref:t,onReset:v,action:u},i))});Qe.displayName="Form";export{nr as F};
